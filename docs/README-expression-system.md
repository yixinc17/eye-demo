# çœ¼ç›è¡¨æƒ…ç³»ç»Ÿæ¶æ„è¯´æ˜ v0.1

## ğŸ“Š æµç¨‹å›¾æ–‡æ¡£

æ‰“å¼€ `expression-system-flowchart.html` æŸ¥çœ‹å®Œæ•´çš„ç³»ç»Ÿæ¶æ„æµç¨‹å›¾ã€‚

---

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

```
è¡¨æƒ… = Pose + GazeBehavior + Overlay
```

| ç»„ä»¶ | ä½œç”¨ | çŠ¶æ€ |
|------|------|------|
| **Pose** | çœ¼çš®å§¿æ€ + ç³å­”å¤§å° | âœ… å·²å®ç° |
| **GazeBehavior** | çœ¼ç è¡Œä¸ºè§„åˆ™ | âš ï¸ éƒ¨åˆ†å®ç° |
| **Overlay** | å åŠ ç‰¹æ•ˆå±‚ | âœ… å·²å®ç° |
| **Blink** | ç‹¬ç«‹çœ¨çœ¼è½¨é“ | âœ… å·²å®ç° |

---

## ğŸ“‹ å¤§çº² vs ä»£ç  å¯¹ç…§è¡¨

### Authorityï¼ˆæ§åˆ¶æƒï¼‰

| å¤§çº²å®šä¹‰ | ä»£ç çŠ¶æ€ | è¯´æ˜ |
|----------|----------|------|
| `interactive` | âœ… å®ç° | å¼ºè·Ÿéšç”¨æˆ· |
| `blend` | âŒ æœªå®ç° | è¡¨æƒ…åŠ¨ä½œ + è½»åº¦è·Ÿéš |
| `emotion` | âœ… å®ç° | å®Œå…¨è¡¨æƒ…æ§åˆ¶ |

### FollowGainï¼ˆè·Ÿéšæ¨¡å¼ï¼‰

| å¤§çº²å®šä¹‰ | ä»£ç å®ç° |
|----------|----------|
| `-1` åå‘ | âœ… `FOLLOW.reverse` |
| `0` ä¸è·Ÿéš | âœ… `FOLLOW.none` |
| `+1` æ­£å‘ | âœ… `FOLLOW.normal` |

### Patternï¼ˆåŠ¨ç”»æ¨¡å¼ï¼‰

| å¤§çº²å®šä¹‰ | ä»£ç çŠ¶æ€ |
|----------|----------|
| `breathing` å‘¼å¸ | âš ï¸ ç”¨ calm/neutral å®ç° |
| `anxious_loop` ç„¦è™‘å¾ªç¯ | âš ï¸ ç”¨ anxious å®ç° (ä»… scale) |
| `up_scan` æ€è€ƒä¸Šè§† | âŒ æœªå®ç° |
| `micro_jitter` é¢¤åŠ¨ | âŒ æœªå®ç° |

### BlinkPolicyï¼ˆçœ¨çœ¼ç­–ç•¥ï¼‰

| å¤§çº²å®šä¹‰ | ä»£ç å®ç° |
|----------|----------|
| `off` | âœ… `blinkPolicies.off` |
| `low` | âš ï¸ ç”¨ `slow` æ›¿ä»£ |
| `normal` | âŒ éœ€æ·»åŠ  |
| `high` | âš ï¸ ç”¨ `fast` æ›¿ä»£ |
| `micro_only` | âŒ æœªå®ç° |

### æ‰“æ–­ç­–ç•¥ï¼ˆinterruptï¼‰

| å¤§çº²å®šä¹‰ | ä»£ç çŠ¶æ€ |
|----------|----------|
| `soft` å…è®¸æ‰“æ–­ | âŒ æœªå®ç° |
| `hard` ç«‹å³åˆ‡å…¥ | âŒ æœªå®ç° |
| `never` ä¸å¯æ‰“æ–­ | âŒ æœªå®ç° |

---

## ğŸ”§ å»ºè®®ä¼˜åŒ–ç‚¹

1. **æ·»åŠ  `blend` authority** - æ”¯æŒè¡¨æƒ…è‡ªå¸¦åŠ¨ä½œ + è½»åº¦ç”¨æˆ·è·Ÿéš
2. **æ‰©å±• Pattern ç±»å‹** - æ·»åŠ ä½ç½®åŠ¨ç”»æ¨¡å¼ (scan/jitter)
3. **ç»Ÿä¸€ BlinkPolicy å‘½å** - ä¸å¤§çº²ä¿æŒä¸€è‡´
4. **å®ç°æ‰“æ–­ç­–ç•¥** - è®©è¡¨æƒ…åˆ‡æ¢æ›´å¯æ§
5. **åºåˆ—è¡¨æƒ…ç»“æ„** - å°† `eyelidAnimation` æ”¹ä¸º `keyframes` æ•°ç»„

---

## ğŸ—‚ï¸ æ–‡ä»¶ç»“æ„

```
/workspace
â”œâ”€â”€ index.html          # Demo é¡µé¢
â”œâ”€â”€ sketch.js           # æ ¸å¿ƒè¡¨æƒ…ç³»ç»Ÿ
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ left_eye/       # å·¦çœ¼ç´ æ
â”‚   â””â”€â”€ right_eye/      # å³çœ¼ç´ æ
â””â”€â”€ docs/
    â”œâ”€â”€ expression-system-flowchart.html  # æ¶æ„æµç¨‹å›¾
    â””â”€â”€ README-expression-system.md       # æœ¬æ–‡æ¡£
```
